<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      #root {
        display: flex;
        justify-content: space-around;
        align-items: start;
      }

      #categoryBox {
        width: 100vw;
        height: 10vh;
        background-color: black;
        display: flex;
        align-items: center;
        justify-content: space-around;
      }
      .categories {
        list-style-type: none;
        width: 20vw;
        height: 8vh;
        background-color: white;
        border-radius: 20px;
        text-align: center;
        line-height: 8vh;
      }

      .category { 
        text-decoration: none;
        color: black;
        font-family: fantasy;
        font-size: 31px;
      }

      #infoTeam {
        display: flex;
        justify-content: space-around;
        align-items: start;
      }
      .name {
        margin-top: 1vh;
        font-size: 20px;
        cursor: pointer;
      }
      #infoContainer {
        margin-top: 20px;
        font-size: 16px;
      }
      .memberBox {
        padding: 20px;
        border: 1px solid #ccc;
        margin: 10px;
        text-align: center;
        cursor: pointer;
      }
      
      
    </style>
  </head>
  <body>
    <div id = "root">
    </div>
  </div>
    <script>
    function createElement(type,props, ...children){
      return {type, props, children}
    }
    function component(stateData){
      const menuItems =[];
      for(let i = 0; i<stateData.length; i++){
        const item = stateData[i]
        const menuItem = createElement('li',{class:"categories"},createElement('a', {href:item.hash, class:"category"}, item.name))
        menuItems.push(menuItem)
        renderPage(stateData[i].hash)
      }

      
      function renderPage(pageName){
        const currentHash = window.location.hash;
        if(pageName === currentHash){
          content.innerHTML = pageName.content
        }
      }

      

      const menu = createElement('ul', {id:"categoryBox"}, ...menuItems)
      const content = createElement('div', {id:"contentArea"})
      //전체 컴포넌트 구조 반환
      return createElement('div', {}, menu, content)
    }


    function render(virtualDom){
      // 문자열일 경우 textnode만 생성하여 반환
      if(typeof virtualDom === 'string'){
        return document.createTextNode(virtualDom)
      }
      
      // 문자열이 아닐경우 해당요소의 타입에 맞게 실제 DOM요소 생성
      const element = document.createElement(virtualDom.type)
      // 순회하며 속성처리
      if(virtualDom.props){
        for(const [key,value] of Object.entries(virtualDom.props)){
          element.setAttribute(key, value)
        }
      }
      // 순회하며 자식요소 처리
      for(let i=0; i<virtualDom.children.length; i++){
        const child = virtualDom.children[i]
        element.appendChild(render(child))
      }
      // 완성된 실제 DOM요소 반환
      return element
    }




    const stateData = [
      {hash : '#home', name: 'Home', content : `<h1>내용1</h1>`},
      {hash : '#teamMember', name:'TeamMember', content : `<h1>내용2</h1>`},
      {hash : '#teamName', name:'TeamName', content : `<h1>내용3</h1>`},
      {hash : '#purpose', name :'Purpose', content : `<h1>내용4</h1>`},
    ]


    const virtualDom = component(stateData)

    const container = document.getElementById('root')

    // 실제DOM에 변경된 가상DOM의 내용 적용
    container.appendChild(render(virtualDom))





    
    </script>
  </body>
</html>
